!function(){function r(a,b){var c=a;if(!(c.childNodes.length>=1))return void 0;for(var d=0;d<c.childNodes.length;d++)if(c.childNodes[d].id==b)return c.childNodes[d]}function s(a,b){a&&(b?(d=e[a][b],f=g[a][b],h=i[a].format,j=k[a].format):(d=e[a][m.locale.length],f=g[a][m.locale.length],h=i[a].format,j=k[a].format))}function t(a){var b=arguments,c=1;return a.replace(/%((%)|s)/g,function(a){return a[2]||b[c++]})}function u(a,b){typeof a===String?(this.element=document.getElementById(a),n=b||m):(this.element=document.getElementById("toki"),n=a||m),n.locale||(n.locale=m.locale),s(n.locale.lang,n.locale.length),this.calendar=document.createElement("table"),n.bootstrap&&(this.calendar.className="table table-responsive"),n.hover&&(this.calendar.className+=" table-hover"),this.calendar.id="toki-cal-root",this.calendar.appendChild(v().thead),this.calendar.appendChild(v().tbody),this.element.appendChild(this.calendar)}function v(){var b=document.createElement("thead");b.id="toki-cal-head",n.fullHeading?(b.tr=document.createElement("tr"),b.tr.td={},b.tr.td.month=document.createElement("td"),b.tr.td.year=document.createElement("td"),b.tr.id="toki-heading",b.tr.td.month.id="toki-month",b.tr.td.year.id="toki-year",c.year===(new Date).getFullYear()&&(b.tr.td.year.className="toki year now"),c.month===(new Date).getMonth()&&(b.tr.td.month.className="toki month now"),b.tr.td.month.appendChild(document.createTextNode(d[c.month])),b.tr.td.year.appendChild(document.createTextNode(t(j,c.year))),b.tr.appendChild(b.tr.td.month),b.tr.appendChild(b.tr.td.year),b.appendChild(b.tr)):(b.tr={month:document.createElement("tr"),year:document.createElement("tr")},b.tr.month.td=document.createElement("td"),b.tr.year.td=document.createElement("td"),b.tr.month.id="toki-heading-month",b.tr.year.id="toki-heading-year",c.year===(new Date).getFullYear()&&(b.tr.year.td.className="toki year now"),c.month===(new Date).getMonth()&&(b.tr.month.td.className="toki month now"),b.tr.month.td.id="toki-month",b.tr.year.td.id="toki-year",b.tr.month.td.appendChild(document.createTextNode(d[c.month])),b.tr.year.td.appendChild(document.createTextNode(t(j,c.year))),b.tr.month.appendChild(b.tr.month.td),b.tr.year.appendChild(b.tr.year.td),b.appendChild(b.tr.month),b.appendChild(b.tr.year));var e=document.createElement("tbody"),g={weekdays:document.createElement("tr"),weeks:{},days:{}};e.id="toki-cal-body",g.weekdays.id="toki-weekdays",g.weekdays.td={};var h=["sunday","monday","tuesday","wednsday","thursday","friday","saturday"];l.forEach(function(a){g.weekdays.td[h[a]]=document.createElement("td"),a===(new Date).getDay()&&(g.weekdays.td[h[a]].className="toki weekday now"),g.weekdays.td[h[a]].id="toki-weekday-"+h[a],g.weekdays.td[h[a]].appendChild(document.createTextNode(f[a])),g.weekdays.appendChild(g.weekdays.td[h[a]])});for(var i=[],k=1;k<=a.weeksInMonth(c.month,c.year);k++)g.weeks["week_"+k]=document.createElement("tr"),g.weeks["week_"+k].id="toki-week-"+k,i.push(g.weeks["week_"+k]);for(var m=[],k=1;k<=a.daysInMonth(c.month,c.year);k++)m.push(k);for(var o=[],p=1;p<m.length+1;p++)g.days["day_"+p]=document.createElement("td"),g.days["day_"+p].className=p===c.day?"toki day now":"toki day changed",g.days["day_"+p].id="toki-day-"+p,g.days["day_"+p].appendChild(document.createTextNode(p)),o.push(g.days["day_"+p]);var q=0,p=0,r=0,s=a.firstDayOfMonth(c.month,c.year).getDay();a.weeksInMonth(c.month,c.year),i.forEach(function(b,d){if(q=d+1,1===q)for(;7>p;)s>p&&(b.appendChild(document.createElement("td")),r++),(p===s||p>s)&&b.appendChild(o[Math.abs(p-r)]),p++;if(2===q)for(p=Math.abs(p-r);p<Math.abs(7*q-r);)b.appendChild(o[p++]);if(3===q||4===q)for(;p<Math.abs(7*q-r);)b.appendChild(o[p++]);if(5===q)if(6!==i.length)for(;p<Math.abs(7*q-r);){var e=o[p++];void 0!==e?b.appendChild(e):b.appendChild(document.createElement("td"))}else for(;p<Math.abs(7*q-r);){var e=o[p++];void 0!==e&&b.appendChild(e)}if(6===q){for(var f=a.daysInMonth(c.month,c.year);f>p;)b.appendChild(o[p++]);for(var g=0;f-(f-r)>g;)b.appendChild(document.createElement("td")),g++}c.month===(new Date).getMonth()&&c.year==(new Date).getFullYear()&&(b.className=q===a.weekOfMonth(c.month,(new Date).getDate(),c.year)?"toki week now":"toki week changed"),q++}),e.appendChild(g.weekdays);for(var v in g.weeks)g.weeks.hasOwnProperty(v)&&e.appendChild(g.weeks[v]);return{thead:b,tbody:e}}var a,d,f,h,j,n,c={month:(new Date).getMonth(),day:(new Date).getDate(),year:(new Date).getFullYear()},e={en:{"long":"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"short":"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sept_Oct_Nov_Dec".split("_"),min:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sept_Oct_Nov_Dec".split("_")},"en-us":{"long":"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"short":"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sept_Oct_Nov_Dec".split("_"),min:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sept_Oct_Nov_Dec".split("_")},ja:{"long":"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"short":"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),min:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_")}},g={en:{"long":"Sunday_Monday_Tuesday_Wednsday_Thursday_Friday_Saturday".split("_"),"short":"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),min:"Su_Mo_Tu_We_Th_Fr_Sa".split("_")},"en-us":{"long":"Sunday_Monday_Tuesday_Wednsday_Thursday_Friday_Saturday".split("_"),"short":"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),min:"Su_Mo_Tu_We_Th_Fr_Sa".split("_")},ja:{"long":"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),"short":"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),min:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_")}},i={en:{format:"%s"},"en-us":{format:"%s"},ja:{format:"%s\u65e5"}},k={en:{format:"%s"},"en-us":{format:"%s"},ja:{format:"%s\u5e74"}},l=[0,1,2,3,4,5,6],m={fullHeading:!1,bootstrap:!1,hover:!1,debug:!0,locale:{lang:"en",length:"long"}},o="undefined"!=typeof module&&module.exports;a=function(a,b){return new u(a,b)},u.prototype.Month=function(a){switch(void 0===a){case!1:return c.month=a,this.Date(),c.month;default:return c.month}},u.prototype.MonthName=function(a){return void 0!==a?d[a]:d[this.Month()]},u.prototype.Day=function(a){switch(!a){case!1:return c.day=a,this.Date(),c.day;default:return c.day}},u.prototype.DayName=function(a){return a?t(h,a):t(h,this.Day())},u.prototype.Year=function(a){switch(!a){case!1:return c.year=a,this.Date(),c.year;default:return c.year}},u.prototype.YearName=function(a){return a?t(j,a):t(j,this.Year())},u.prototype.Date=function(a,b,d){var e=this.calendar;if(a&&(c.month=a),b&&(c.day=b),d&&(c.year=d),n.fullHeading){var f=["toki-cal-head","toki-heading","toki-month"],g=["toki-cal-head","toki-heading","toki-year"];r(r(e,f[0]),f[1]).removeChild(r(r(r(e,f[0]),f[1]),f[2])),r(r(e,g[0]),g[1]).removeChild(r(r(r(e,g[0]),g[1]),g[2])),e.removeChild(r(e,"toki-cal-body")),r(r(e,f[0]),f[1]).appendChild(v().thead.tr.td.month),r(r(e,g[0]),g[1]).appendChild(v().thead.tr.td.year),e.appendChild(v().tbody)}else{var f=["toki-cal-head","toki-heading-month","toki-month"],g=["toki-cal-head","toki-heading-year","toki-year"];r(r(e,f[0]),f[1]).removeChild(r(r(r(e,f[0]),f[1]),f[2])),r(r(e,g[0]),g[1]).removeChild(r(r(r(e,g[0]),g[1]),g[2])),e.removeChild(r(e,"toki-cal-body")),r(r(e,f[0]),f[1]).appendChild(v().thead.tr.month.td),r(r(e,g[0]),g[1]).appendChild(v().thead.tr.year.td),e.appendChild(v().tbody)}},u.prototype.Reset=function(){this.Month((new Date).getMonth()),this.Day((new Date).getDate()),this.Year((new Date).getFullYear())},u.prototype.Locale=function(a,b){s(a,b),this.Date()},a.isLeapYear=function(a){switch(!a){case!1:return a%400?a%100?a%4?!1:!0:!1:!0;default:return c.year%400?c.year%100?c.year%4?!1:!0:!1:!0}},a.weeksInMonth=function(a,b){var d,e;a&&b?(d=new Date(b,a,1),e=new Date(b,a,0)):(d=new Date(c.year,c.month,1),e=new Date(c.year,c.month,0));var f=d.getDay()+e.getDate();return Math.ceil(f/7)},a.daysInMonth=function(b,d){return b&&d?[31,a.isLeapYear(d)?29:28,31,30,31,30,31,31,30,31,30,31][b]:[31,a.isLeapYear(c.year)?29:28,31,30,31,30,31,31,30,31,30,31][c.month]},a.firstDayOfMonth=function(a,b){return a&&b?new Date(b,a,1):new Date(c.year,c.month,1)},a.lastDayOfMonth=function(a,b){return a&&b?new Date(b,a+1,0):new Date(c.year,c.month+1,0)},a.weekOfMonth=function(a,b,d){var e;e=a&&b&&d?new Date(d,a,b):new Date(c.year,c.month,c.day);var f=e.getDate();return f+=0==e.getDay()?0:7-e.getDay(),Math.ceil(parseFloat(f)/7)},o&&(module.exports=a),"undefined"==typeof ender&&(this.toki=a),"function"==typeof define&&define.amd&&define([],function(){return a})}.call(this);