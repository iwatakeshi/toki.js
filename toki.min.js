!function(){function q(a,b){var c=a;if(!(c.childNodes.length>=1))return void 0;for(var d=0;d<c.childNodes.length;d++)if(c.childNodes[d].id==b)return c.childNodes[d]}function r(a){m.fullHeading=a.fullHeading||l.fullHeading,m.bootstrap=a.bootstrap||l.bootstrap,m.hover=a.hover||l.hover,m.debug=a.debug||l.debug,m.start=a.start||l.start,a.locale&&(c.locale.lang=a.locale.lang,c.locale.length=a.locale.length)}function s(a){document.getElementById(a).parentNode.removeChild(document.getElementById(a))}function t(a,b){a&&(b?(d=e[a][b],f=g[a][b],h=i[a].format,j=k[a].format):(d=e[a][l.locale.length],f=g[a][l.locale.length],h=i[a].format,j=k[a].format))}function u(a){var b=arguments,c=1;return a.replace(/%((%)|s)/g,function(a){return a[2]||b[c++]})}function v(){switch(m.start){case 0:return[0,1,2,3,4,5,6];case 1:return[1,2,3,4,5,6,0];case 2:return[2,3,4,5,6,0,1];case 3:return[3,4,5,6,0,1,2];case 4:return[4,5,6,0,1,2,3];case 5:return[5,6,0,1,2,3,4];case 6:return[6,0,1,2,3,4,5];default:return[0,1,2,3,4,5,6]}}function w(a,b){typeof a===String?(this.element=document.getElementById(a),r(b)):(this.element=document.getElementById("toki"),r(a)),t(c.locale.lang,c.locale.length),this.calendar=document.createElement("table"),m.bootstrap&&(this.calendar.className="table table-responsive"),m.hover&&(this.calendar.className+=" table-hover"),this.calendar.id="toki-cal-root",this.calendar.appendChild(x().thead),this.calendar.appendChild(x().tbody),this.element.appendChild(this.calendar)}function x(){var b=document.createElement("thead");b.id="toki-cal-head",m.fullHeading?(b.tr=document.createElement("tr"),b.tr.td={},b.tr.td.month=document.createElement("td"),b.tr.td.year=document.createElement("td"),b.tr.id="toki-heading",b.tr.td.month.id="toki-month",b.tr.td.year.id="toki-year",c.year===(new Date).getFullYear()&&(b.tr.td.year.className="toki year now"),c.month===(new Date).getMonth()&&(b.tr.td.month.className="toki month now"),b.tr.td.month.appendChild(document.createTextNode(d[c.month])),b.tr.td.year.appendChild(document.createTextNode(u(j,c.year))),b.tr.appendChild(b.tr.td.month),b.tr.appendChild(b.tr.td.year),b.appendChild(b.tr)):(b.tr={month:document.createElement("tr"),year:document.createElement("tr")},b.tr.month.td=document.createElement("td"),b.tr.year.td=document.createElement("td"),b.tr.month.id="toki-heading-month",b.tr.year.id="toki-heading-year",c.year===(new Date).getFullYear()&&(b.tr.year.td.className="toki year now"),c.month===(new Date).getMonth()&&(b.tr.month.td.className="toki month now"),b.tr.month.td.id="toki-month",b.tr.year.td.id="toki-year",b.tr.month.td.appendChild(document.createTextNode(d[c.month])),b.tr.year.td.appendChild(document.createTextNode(u(j,c.year))),b.tr.month.appendChild(b.tr.month.td),b.tr.year.appendChild(b.tr.year.td),b.appendChild(b.tr.month),b.appendChild(b.tr.year));var e=document.createElement("tbody"),g={weekdays:document.createElement("tr"),weeks:{},days:{}};e.id="toki-cal-body",g.weekdays.id="toki-weekdays",g.weekdays.td={};var h=["sunday","monday","tuesday","wednsday","thursday","friday","saturday"];v().forEach(function(a){g.weekdays.td[h[a]]=document.createElement("td"),a===v()[(new Date).getDay()]&&(g.weekdays.td[h[a]].className="toki weekday now"),g.weekdays.td[h[a]].id="toki-weekday-"+h[a],g.weekdays.td[h[a]].appendChild(document.createTextNode(f[a])),g.weekdays.appendChild(g.weekdays.td[h[a]])});for(var i=[],k=0;k<=a.weeksInMonth(c.month,c.year);k++)g.weeks["week_"+k]=document.createElement("tr"),g.weeks["week_"+k].id="toki-week-"+k,i.push(g.weeks["week_"+k]);for(var l=[],k=1;k<=a.daysInMonth(c.month,c.year);k++)l.push(k);for(var n=[],o=1;o<l.length+1;o++)g.days["day_"+o]=document.createElement("td"),g.days["day_"+o].className=o===c.day?"toki day now":"toki day changed",g.days["day_"+o].id="toki-day-"+o,g.days["day_"+o].appendChild(document.createTextNode(o)),n.push(g.days["day_"+o]);var p=0,o=0,q=0,r=a.firstDayOfMonth(c.month,c.year).getDay();r=[0,1,2,3,4,5,6][v().indexOf(r)],a.weeksInMonth(c.month,c.year),i.forEach(function(b,d){if(p=d+1,1===p)for(;7>o;)r>o&&(b.appendChild(document.createElement("td")),q++),(o===r||o>r)&&b.appendChild(n[Math.abs(o-q)]),o++;if(2===p)for(o=Math.abs(o-q);o<Math.abs(7*p-q);)b.appendChild(n[o++]);if(3===p||4===p)for(;o<Math.abs(7*p-q);)b.appendChild(n[o++]);if(5===p)if(6!==i.length)for(;o<Math.abs(7*p-q);){var e=n[o++];void 0!==e?b.appendChild(e):b.appendChild(document.createElement("td"))}else for(;o<Math.abs(7*p-q);){var e=n[o++];void 0!==e?b.appendChild(e):b.appendChild(document.createElement("td"))}if(6===p)for(a.daysInMonth(c.month,c.year);7*p-q>o;){var g=n[o++];g?b.appendChild(g):b.appendChild(document.createElement("td"))}if(7===p)for(;7*p-q>o;)b.appendChild(document.createElement("td")),o++;c.month===(new Date).getMonth()&&c.year==(new Date).getFullYear()&&(b.className=p===a.weekOfMonth(c.month,(new Date).getDate(),c.year)?"toki week now":"toki week changed"),p++}),e.appendChild(g.weekdays);for(var t in g.weeks)g.weeks.hasOwnProperty(t)&&e.appendChild(g.weeks[t]);return{thead:b,tbody:e}}var a,d,f,h,j,c={month:(new Date).getMonth(),day:(new Date).getDate(),year:(new Date).getFullYear(),locale:{lang:"en-us",length:"long"}},e={en:{"long":"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"short":"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sept_Oct_Nov_Dec".split("_"),min:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sept_Oct_Nov_Dec".split("_")},"en-us":{"long":"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"short":"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sept_Oct_Nov_Dec".split("_"),min:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sept_Oct_Nov_Dec".split("_")},ja:{"long":"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"short":"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),min:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_")}},g={en:{"long":"Sunday_Monday_Tuesday_Wednsday_Thursday_Friday_Saturday".split("_"),"short":"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),min:"Su_Mo_Tu_We_Th_Fr_Sa".split("_")},"en-us":{"long":"Sunday_Monday_Tuesday_Wednsday_Thursday_Friday_Saturday".split("_"),"short":"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),min:"Su_Mo_Tu_We_Th_Fr_Sa".split("_")},ja:{"long":"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),"short":"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),min:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_")}},i={en:{format:"%s"},"en-us":{format:"%s"},ja:{format:"%s\u65e5"}},k={en:{format:"%s"},"en-us":{format:"%s"},ja:{format:"%s\u5e74"}},l={fullHeading:!1,bootstrap:!1,hover:!1,debug:!0,locale:{lang:"en",length:"long"},start:0},m={},n="undefined"!=typeof module&&module.exports;a=function(a,b){return new w(a,b)},w.prototype.firstDayOfWeek=function(a){switch(void 0===a){case!1:m.start=parseInt(a),s("toki-cal-head"),s("toki-cal-body"),r(m),this.calendar.appendChild(x().thead),this.calendar.appendChild(x().tbody);break;default:return m.start}},w.prototype.WeekdayNames=function(a){return g[c.locale.lang][a||"long"]},w.prototype.WeekdayName=function(a){return void 0!==a?f[a]:f[(new Date).getDay()]},w.prototype.MonthNames=function(a){return e[c.locale.lang][a||"long"]},w.prototype.Month=function(a){switch(void 0===a){case!1:return c.month=a,this.Date(),c.month;default:return c.month}},w.prototype.MonthName=function(a){return void 0!==a?d[a]:d[this.Month()]},w.prototype.Day=function(a){switch(!a){case!1:return c.day=a,this.Date(),c.day;default:return c.day}},w.prototype.DayName=function(a){return a?u(h,a):u(h,this.Day())},w.prototype.Year=function(a){switch(!a){case!1:return c.year=a,this.Date(),c.year;default:return c.year}},w.prototype.YearName=function(a){return a?u(j,a):u(j,this.Year())},w.prototype.Date=function(a,b,d){var e=this.calendar;if(a&&(c.month=a),b&&(c.day=b),d&&(c.year=d),m.fullHeading){var f=["toki-cal-head","toki-heading","toki-month"],g=["toki-cal-head","toki-heading","toki-year"];q(q(e,f[0]),f[1]).removeChild(q(q(q(e,f[0]),f[1]),f[2])),q(q(e,g[0]),g[1]).removeChild(q(q(q(e,g[0]),g[1]),g[2])),e.removeChild(q(e,"toki-cal-body")),q(q(e,f[0]),f[1]).appendChild(x().thead.tr.td.month),q(q(e,g[0]),g[1]).appendChild(x().thead.tr.td.year),e.appendChild(x().tbody)}else{var f=["toki-cal-head","toki-heading-month","toki-month"],g=["toki-cal-head","toki-heading-year","toki-year"];q(q(e,f[0]),f[1]).removeChild(q(q(q(e,f[0]),f[1]),f[2])),q(q(e,g[0]),g[1]).removeChild(q(q(q(e,g[0]),g[1]),g[2])),e.removeChild(q(e,"toki-cal-body")),q(q(e,f[0]),f[1]).appendChild(x().thead.tr.month.td),q(q(e,g[0]),g[1]).appendChild(x().thead.tr.year.td),e.appendChild(x().tbody)}},w.prototype.Reset=function(){this.Month((new Date).getMonth()),this.Day((new Date).getDate()),this.Year((new Date).getFullYear())},w.prototype.Locale=function(a,b){c.locale.lang=a,c.locale.length=b,t(a,b),this.Date()},a.isLeapYear=function(a){switch(!a){case!1:return a%400?a%100?a%4?!1:!0:!1:!0;default:return c.year%400?c.year%100?c.year%4?!1:!0:!1:!0}},a.weeksInMonth=function(a,b){var d,e;a&&b?(d=new Date(b,a,1),e=new Date(b,a,0)):(d=new Date(c.year,c.month,1),e=new Date(c.year,c.month,0));var f=d.getDay()+e.getDate();return Math.ceil(f/7)},a.daysInMonth=function(b,d){return b&&d?[31,a.isLeapYear(d)?29:28,31,30,31,30,31,31,30,31,30,31][b]:[31,a.isLeapYear(c.year)?29:28,31,30,31,30,31,31,30,31,30,31][c.month]},a.firstDayOfMonth=function(a,b){return a&&b?new Date(b,a,1):new Date(c.year,c.month,1)},a.lastDayOfMonth=function(a,b){return a&&b?new Date(b,a+1,0):new Date(c.year,c.month+1,0)},a.weekOfMonth=function(a,b,d){var e;e=a&&b&&d?new Date(d,a,b):new Date(c.year,c.month,c.day);var f=e.getDate();return f+=0==e.getDay()?0:7-e.getDay(),Math.ceil(parseFloat(f)/7)},n&&(module.exports=a),"undefined"==typeof ender&&(this.toki=a),"function"==typeof define&&define.amd&&define([],function(){return a})}.call(this);